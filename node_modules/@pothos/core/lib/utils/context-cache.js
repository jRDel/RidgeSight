"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.initContextCache = initContextCache;
exports.createContextCache = createContextCache;
exports.contextCacheSymbol = void 0;
const contextCacheSymbol = Symbol.for('Pothos.contextCache');
exports.contextCacheSymbol = contextCacheSymbol;
function initContextCache() {
    return {
        [contextCacheSymbol]: {}
    };
}
function createContextCache(create) {
    const cache = new WeakMap();
    return (context, ...args)=>{
        const cacheKey = context[contextCacheSymbol] || context;
        if (cache.has(cacheKey)) {
            return cache.get(cacheKey);
        }
        const entry = create(context, ...args);
        cache.set(cacheKey, entry);
        return entry;
    };
}

//# sourceMappingURL=context-cache.js.map